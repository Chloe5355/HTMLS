<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<title>Genshin Build Analyzer</title>

<!-- =======================
  STYLE
======================= -->
<style>
:root {
  --bg: #0f172a;
  --card: rgba(30, 41, 59, 0.85);
  --accent: #38bdf8;
  --gold: #facc15;
  --text: #e5e7eb;
  --sub: #94a3b8;
  --danger: #f87171;
}

body {
  margin: 0;
  background: linear-gradient(180deg, #020617, #0f172a);
  color: var(--text);
  font-family: system-ui, -apple-system;
}

/* Header */
header {
  padding: 12px 16px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

select,
input {
  background: var(--card);
  color: var(--text);
  border: none;
  border-radius: 12px;
  padding: 8px 12px;
}

/* Card */
.card {
  background: var(--card);
  border-radius: 18px;
  padding: 16px;
  margin: 12px;
  backdrop-filter: blur(10px);
  box-shadow: 0 10px 30px rgba(0,0,0,.4);
}

.title {
  font-weight: 700;
  margin-bottom: 8px;
}

/* Character */
.char-header {
  display: flex;
  gap: 12px;
  align-items: center;
}

.char-icon {
  width: 64px;
  height: 64px;
  border-radius: 14px;
  background: #1e293b;
}

.rank {
  font-size: 36px;
  font-weight: 900;
  color: var(--gold);
}

.score {
  font-size: 24px;
  font-weight: 700;
}

/* Rows */
.row {
  display: flex;
  justify-content: space-between;
  margin-top: 6px;
}

.warn {
  color: var(--danger);
}

/* Footer */
.footer {
  margin-top: 40px;
  padding: 28px 12px 36px;
  background: linear-gradient(
    180deg,
    rgba(2, 6, 23, 0),
    rgba(2, 6, 23, 0.95)
  );
  color: var(--sub);
  font-size: 12px;
  text-align: center;
}

.footer-inner {
  max-width: 520px;
  margin: 0 auto;
  line-height: 1.7;
}

.footer .author {
  margin-top: 10px;
  font-weight: 600;
  color: var(--text);
}
</style>
</head>

<body>

<!-- =======================
  HEADER
======================= -->
<header>
  <div data-i18n="app_title">åŸç¥ãƒ“ãƒ«ãƒ‰è§£æ</div>
  <div>
    <input id="uidInput" placeholder="UID" maxlength="9" />
    <select id="langSelect">
      <option value="ja">æ—¥æœ¬èª</option>
      <option value="en">English</option>
    </select>
  </div>
</header>

<!-- =======================
  CHARACTER CARD
======================= -->
<div class="card">
  <div class="char-header">
    <div class="char-icon"></div>
    <div>
      <div class="title">å¤œè˜­</div>
      <div data-i18n="preset">HPï¼‹å…ƒç´ ãƒãƒ£ãƒ¼ã‚¸é‡è¦–</div>
    </div>
  </div>

  <div style="margin-top:12px">
    <span class="rank">S</span>
    <span class="score">82.3%</span>
  </div>
</div>

<!-- =======================
  BUILD SCORE
======================= -->
<div class="card">
  <div class="title" data-i18n="build_score">ãƒ“ãƒ«ãƒ‰è©•ä¾¡</div>
  <div data-i18n="build_desc">
    ã‚­ãƒ£ãƒ©å›ºæœ‰ãƒ—ãƒªã‚»ãƒƒãƒˆã«åŸºã¥ãç·åˆã‚¹ã‚³ã‚¢
  </div>
</div>

<!-- =======================
  AI ADVICE
======================= -->
<div class="card">
  <div class="title">ğŸ¤– AI</div>
  <div data-i18n="ai_advice">
    å…ƒç´ ãƒãƒ£ãƒ¼ã‚¸åŠ¹ç‡ã‚’å„ªå…ˆã—ã¦æ›´æ–°ã™ã‚‹ã¨DPSãŒå‘ä¸Šã—ã¾ã™
  </div>
</div>

<!-- =======================
  ARTIFACT ANALYSIS
======================= -->
<div class="card">
  <div class="title" data-i18n="artifact">è–éºç‰©åˆ†æ</div>
  <div class="row">ğŸŒ¸ èŠ± <span>42.1</span></div>
  <div class="row warn">ğŸ‘‘ å†  <span>28.4</span></div>
</div>

<!-- =======================
  FOOTER
======================= -->
<footer class="footer">
  <div class="footer-inner">
    <div data-i18n="footer_text">
      éå…¬å¼ åŸç¥ãƒ“ãƒ«ãƒ‰è§£æãƒ„ãƒ¼ãƒ«<br>
      Enka.Network API / miHoYo TextMap ä½¿ç”¨
    </div>

    <div class="author">
      ä½œè€…: @Chloe
    </div>

    <div>
      Genshin Impact Â© COGNOSPHERE / HoYoverse
    </div>
  </div>
</footer>

<!-- =======================
  SCRIPT
======================= -->
<script>
/* ===== å¤šè¨€èª TextMap ===== */
const i18n = {
  ja: {
    app_title: "åŸç¥ãƒ“ãƒ«ãƒ‰è§£æ",
    preset: "HPï¼‹å…ƒç´ ãƒãƒ£ãƒ¼ã‚¸é‡è¦–",
    build_score: "ãƒ“ãƒ«ãƒ‰è©•ä¾¡",
    build_desc: "ã‚­ãƒ£ãƒ©å›ºæœ‰ãƒ—ãƒªã‚»ãƒƒãƒˆã«åŸºã¥ãç·åˆã‚¹ã‚³ã‚¢",
    ai_advice: "å…ƒç´ ãƒãƒ£ãƒ¼ã‚¸åŠ¹ç‡ã‚’å„ªå…ˆã—ã¦æ›´æ–°ã™ã‚‹ã¨DPSãŒå‘ä¸Šã—ã¾ã™",
    artifact: "è–éºç‰©åˆ†æ",
    footer_text:
      "éå…¬å¼ åŸç¥ãƒ“ãƒ«ãƒ‰è§£æãƒ„ãƒ¼ãƒ«<br>Enka.Network API / miHoYo TextMap ä½¿ç”¨"
  },
  en: {
    app_title: "Genshin Build Analyzer",
    preset: "HP & Energy Recharge Focus",
    build_score: "Build Score",
    build_desc: "Overall score based on character presets",
    ai_advice:
      "Improving Energy Recharge will increase overall DPS",
    artifact: "Artifact Analysis",
    footer_text:
      "Unofficial Genshin Impact build analysis tool<br>Powered by Enka.Network API / miHoYo TextMap"
  }
};

/* ===== Language Switch ===== */
function setLanguage(lang) {
  document.documentElement.lang = lang;
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.dataset.i18n;
    if (i18n[lang][key]) {
      el.innerHTML = i18n[lang][key];
    }
  });
  localStorage.setItem("lang", lang);
}

const savedLang = localStorage.getItem("lang") || "ja";
document.getElementById("langSelect").value = savedLang;
setLanguage(savedLang);

document.getElementById("langSelect")
  .addEventListener("change", e => {
    setLanguage(e.target.value);
  });

/* ===== UID Placeholder ===== */
document.getElementById("uidInput")
  .addEventListener("change", e => {
    console.log("UID:", e.target.value);
    // Enka API fetch here
  });
</script>

</body>
</html>
